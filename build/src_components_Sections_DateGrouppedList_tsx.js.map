{"version":3,"file":"src_components_Sections_DateGrouppedList_tsx.js","mappings":"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","sources":["webpack://calc/./src/components/Sections/DateGrouppedList.tsx","webpack://calc/./src/helpers/groupByDate.ts","webpack://calc/./src/mocks/orders.ts","webpack://calc/./node_modules/dayjs/dayjs.min.js","webpack://calc/./src/components/Sections/DateGrouppedList.module.scss?0abc"],"sourcesContent":["import dayjs from 'dayjs'\r\nimport { useRef } from 'react'\r\nimport groupByDate from '../../helpers/groupByDate'\r\nimport { orders } from '../../mocks/orders'\r\nimport { type IUserOrderPopulated } from '../../types/model'\r\nimport ProductCard from '../UI/Cards/ProductCard'\r\nimport s from './DateGrouppedList.module.scss'\r\n\r\ninterface DateGrouppedOrdersProps {}\r\n\r\nconst DateGrouppedOrders = (props: DateGrouppedOrdersProps) => {\r\n  const sortedOrdersRef = useRef<IUserOrderPopulated[][]>(\r\n    groupByDate(orders, 'createdAt')\r\n  )\r\n\r\n  return (\r\n    <ul className={s.main}>\r\n      {sortedOrdersRef.current.map((el, i) => (\r\n        <li key={i} className={s.section}>\r\n          <h3 className={s.sectionHeader}>\r\n            {dayjs(el[0].createdAt).format('DD MMMM')}\r\n          </h3>\r\n          <ul className={s.sectionList}>\r\n            {el.map((el) => (\r\n              <li key={el.id}>\r\n                <ProductCard {...el.products[0]} size=\"sm\" />\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        </li>\r\n      ))}\r\n    </ul>\r\n  )\r\n}\r\n\r\nexport default DateGrouppedOrders\r\n","import dayjs from \"dayjs\"\r\n\r\nexport default <E extends Record<string, any>>(\r\n  list: E[],\r\n  sortTimestampBy: keyof E\r\n) => {\r\n  const res = [[{ ...list[0] }]]\r\n\r\n  if (typeof list[0][sortTimestampBy] !== \"number\") {\r\n    throw new Error(\"sorting field must me number\")\r\n  }\r\n\r\n  for (let i = 0; i < list.length - 1; i++) {\r\n    const lastList = res[res.length - 1]\r\n    const lastListItem = lastList[lastList.length - 1]\r\n\r\n    const nextItem = list[i + 1]\r\n    const datePrev = dayjs(lastListItem[sortTimestampBy]).get(\"date\")\r\n    const dateNext = dayjs(nextItem[sortTimestampBy]).get(\"date\")\r\n    if (datePrev === dateNext) {\r\n      lastList.push(nextItem)\r\n    } else {\r\n      res.push([nextItem])\r\n    }\r\n  }\r\n\r\n  return res\r\n}\r\n","import phoneImg from '../mocks/phone.webp'\r\nimport { type IUserOrderPopulated } from '../types/model'\r\n\r\nexport const orders: IUserOrderPopulated[] = [\r\n  {\r\n    id: 'fgegw',\r\n    createdAt: Date.now(),\r\n    status: 'created',\r\n    productIds: ['fd'],\r\n    totalPrice: 12,\r\n    products: new Array(5).fill('').map((el) => ({\r\n      id: 'gegtrhr343',\r\n      description:\r\n        'Формат Apple ProRAW, Аудиозум, Автоматическая стабилизация изображения, Режим Киноэффект, Технология Deep Fusion, Регулировка глубины резкости, Эффект боке, Геотегинг, Live Photos, Макросъемка, Ночной режим, Фотографические стили, Портретный режим, Функция QuickTake, Режим замедленной съёмки, Защита объектива сапфировым стеклом, Smart HDR 4, Таймлапс, Следящий автофокус, True Tone с функцией Slow Sync',\r\n      price: 100,\r\n      rating: 4.8,\r\n      title: 'Apple iPhone 14 Pro Max',\r\n      images: [phoneImg, phoneImg, phoneImg, phoneImg, phoneImg],\r\n    })),\r\n  },\r\n]\r\n","!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):(t=\"undefined\"!=typeof globalThis?globalThis:t||self).dayjs=e()}(this,(function(){\"use strict\";var t=1e3,e=6e4,n=36e5,r=\"millisecond\",i=\"second\",s=\"minute\",u=\"hour\",a=\"day\",o=\"week\",f=\"month\",h=\"quarter\",c=\"year\",d=\"date\",l=\"Invalid Date\",$=/^(\\d{4})[-/]?(\\d{1,2})?[-/]?(\\d{0,2})[Tt\\s]*(\\d{1,2})?:?(\\d{1,2})?:?(\\d{1,2})?[.:]?(\\d+)?$/,y=/\\[([^\\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,M={name:\"en\",weekdays:\"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday\".split(\"_\"),months:\"January_February_March_April_May_June_July_August_September_October_November_December\".split(\"_\"),ordinal:function(t){var e=[\"th\",\"st\",\"nd\",\"rd\"],n=t%100;return\"[\"+t+(e[(n-20)%10]||e[n]||e[0])+\"]\"}},m=function(t,e,n){var r=String(t);return!r||r.length>=e?t:\"\"+Array(e+1-r.length).join(n)+t},v={s:m,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?\"+\":\"-\")+m(r,2,\"0\")+\":\"+m(i,2,\"0\")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(r,f),s=n-i<0,u=e.clone().add(r+(s?-1:1),f);return+(-(r+(n-i)/(s?i-u:u-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:f,y:c,w:o,d:a,D:d,h:u,m:s,s:i,ms:r,Q:h}[t]||String(t||\"\").toLowerCase().replace(/s$/,\"\")},u:function(t){return void 0===t}},g=\"en\",D={};D[g]=M;var p=function(t){return t instanceof _},S=function t(e,n,r){var i;if(!e)return g;if(\"string\"==typeof e){var s=e.toLowerCase();D[s]&&(i=s),n&&(D[s]=n,i=s);var u=e.split(\"-\");if(!i&&u.length>1)return t(u[0])}else{var a=e.name;D[a]=e,i=a}return!r&&i&&(g=i),i||!r&&g},w=function(t,e){if(p(t))return t.clone();var n=\"object\"==typeof e?e:{};return n.date=t,n.args=arguments,new _(n)},O=v;O.l=S,O.i=p,O.w=function(t,e){return w(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var _=function(){function M(t){this.$L=S(t.locale,null,!0),this.parse(t)}var m=M.prototype;return m.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(O.u(e))return new Date;if(e instanceof Date)return new Date(e);if(\"string\"==typeof e&&!/Z$/i.test(e)){var r=e.match($);if(r){var i=r[2]-1||0,s=(r[7]||\"0\").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},m.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},m.$utils=function(){return O},m.isValid=function(){return!(this.$d.toString()===l)},m.isSame=function(t,e){var n=w(t);return this.startOf(e)<=n&&n<=this.endOf(e)},m.isAfter=function(t,e){return w(t)<this.startOf(e)},m.isBefore=function(t,e){return this.endOf(e)<w(t)},m.$g=function(t,e,n){return O.u(t)?this[e]:this.set(n,t)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(t,e){var n=this,r=!!O.u(e)||e,h=O.p(t),l=function(t,e){var i=O.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return r?i:i.endOf(a)},$=function(t,e){return O.w(n.toDate()[t].apply(n.toDate(\"s\"),(r?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},y=this.$W,M=this.$M,m=this.$D,v=\"set\"+(this.$u?\"UTC\":\"\");switch(h){case c:return r?l(1,0):l(31,11);case f:return r?l(1,M):l(0,M+1);case o:var g=this.$locale().weekStart||0,D=(y<g?y+7:y)-g;return l(r?m-D:m+(6-D),M);case a:case d:return $(v+\"Hours\",0);case u:return $(v+\"Minutes\",1);case s:return $(v+\"Seconds\",2);case i:return $(v+\"Milliseconds\",3);default:return this.clone()}},m.endOf=function(t){return this.startOf(t,!1)},m.$set=function(t,e){var n,o=O.p(t),h=\"set\"+(this.$u?\"UTC\":\"\"),l=(n={},n[a]=h+\"Date\",n[d]=h+\"Date\",n[f]=h+\"Month\",n[c]=h+\"FullYear\",n[u]=h+\"Hours\",n[s]=h+\"Minutes\",n[i]=h+\"Seconds\",n[r]=h+\"Milliseconds\",n)[o],$=o===a?this.$D+(e-this.$W):e;if(o===f||o===c){var y=this.clone().set(d,1);y.$d[l]($),y.init(),this.$d=y.set(d,Math.min(this.$D,y.daysInMonth())).$d}else l&&this.$d[l]($);return this.init(),this},m.set=function(t,e){return this.clone().$set(t,e)},m.get=function(t){return this[O.p(t)]()},m.add=function(r,h){var d,l=this;r=Number(r);var $=O.p(h),y=function(t){var e=w(l);return O.w(e.date(e.date()+Math.round(t*r)),l)};if($===f)return this.set(f,this.$M+r);if($===c)return this.set(c,this.$y+r);if($===a)return y(1);if($===o)return y(7);var M=(d={},d[s]=e,d[u]=n,d[i]=t,d)[$]||1,m=this.$d.getTime()+r*M;return O.w(m,this)},m.subtract=function(t,e){return this.add(-1*t,e)},m.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||l;var r=t||\"YYYY-MM-DDTHH:mm:ssZ\",i=O.z(this),s=this.$H,u=this.$m,a=this.$M,o=n.weekdays,f=n.months,h=function(t,n,i,s){return t&&(t[n]||t(e,r))||i[n].slice(0,s)},c=function(t){return O.s(s%12||12,t,\"0\")},d=n.meridiem||function(t,e,n){var r=t<12?\"AM\":\"PM\";return n?r.toLowerCase():r},$={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:O.s(a+1,2,\"0\"),MMM:h(n.monthsShort,a,f,3),MMMM:h(f,a),D:this.$D,DD:O.s(this.$D,2,\"0\"),d:String(this.$W),dd:h(n.weekdaysMin,this.$W,o,2),ddd:h(n.weekdaysShort,this.$W,o,3),dddd:o[this.$W],H:String(s),HH:O.s(s,2,\"0\"),h:c(1),hh:c(2),a:d(s,u,!0),A:d(s,u,!1),m:String(u),mm:O.s(u,2,\"0\"),s:String(this.$s),ss:O.s(this.$s,2,\"0\"),SSS:O.s(this.$ms,3,\"0\"),Z:i};return r.replace(y,(function(t,e){return e||$[t]||i.replace(\":\",\"\")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(r,d,l){var $,y=O.p(d),M=w(r),m=(M.utcOffset()-this.utcOffset())*e,v=this-M,g=O.m(this,M);return g=($={},$[c]=g/12,$[f]=g,$[h]=g/3,$[o]=(v-m)/6048e5,$[a]=(v-m)/864e5,$[u]=v/n,$[s]=v/e,$[i]=v/t,$)[y]||v,l?g:O.a(g)},m.daysInMonth=function(){return this.endOf(f).$D},m.$locale=function(){return D[this.$L]},m.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=S(t,e,!0);return r&&(n.$L=r),n},m.clone=function(){return O.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},M}(),T=_.prototype;return w.prototype=T,[[\"$ms\",r],[\"$s\",i],[\"$m\",s],[\"$H\",u],[\"$W\",a],[\"$M\",f],[\"$y\",c],[\"$D\",d]].forEach((function(t){T[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),w.extend=function(t,e){return t.$i||(t(e,_,w),t.$i=!0),w},w.locale=S,w.isDayjs=p,w.unix=function(t){return w(1e3*t)},w.en=D[g],w.Ls=D,w.p={},w}));","// extracted by mini-css-extract-plugin\nexport default {\"main\":\"VhpZ8ufMfXckXZneK_Iy\",\"section\":\"Gpf8LtElGw6lYEb_PBqw\",\"sectionHeader\":\"W7UTsqglvaLdlxIz8Mtm\"};"],"names":["dayjs","useRef","groupByDate","orders","ProductCard","s","jsx","_jsx","jsxs","_jsxs","DateGrouppedOrders","props","_s","sortedOrdersRef","className","main","children","current","map","el","i","section","sectionHeader","createdAt","format","sectionList","_objectSpread","products","size","id","_c","$RefreshReg$","list","sortTimestampBy","res","Error","length","lastList","lastListItem","nextItem","datePrev","get","dateNext","push","phoneImg","Date","now","status","productIds","totalPrice","Array","fill","description","price","rating","title","images"],"sourceRoot":""}